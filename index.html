<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Florecillas para Sami ‚ô•Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1200 0%, #2e2400 50%, #3e3200 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 30px;
            margin: 40px 20px 20px 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            max-width: 900px;
            width: 95%;
        }

        h1 {
            font-family: 'Outfit', sans-serif;
            font-weight: normal;
            text-align: center;
            color: #fff;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 
                0 0 10px rgba(255, 215, 0, 0.8),
                0 0 20px rgba(255, 215, 0, 0.4);
            letter-spacing: 2px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .btn {
            font-family: 'Outfit', sans-serif;
            font-weight: bold;
            padding: 15px 30px;
            font-size: 16px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
            text-transform: uppercase;
            min-width: 140px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ffd700, #ffdf40);
            color: #333;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.6);
        }

        .btn-reset {
            background: linear-gradient(45deg, #00ced1, #40e0d0);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 206, 209, 0.4);
        }

        .btn-reset:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 206, 209, 0.6);
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .speed-control label {
            font-family: 'Outfit', sans-serif;
            font-weight: 500;
            color: #fff;
            font-size: 14px;
        }

        .speed-control input[type="range"] {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
        }

        .speed-value {
            font-family: 'Outfit', sans-serif;
            color: white;
            font-weight: bold;
            font-size: 18px;
            min-width: 30px;
            text-align: center;
        }

        .status {
            font-family: 'Outfit', sans-serif;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            color: #fff;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .status.completed {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.3);
            color: #ffd700;
        }

        .canvas-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 20px;
            border: none;
        }

        #turtleCanvas {
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.02);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 30px 10px 10px 10px;
                padding: 20px;
                max-width: 95%;
            }

            h1 {
                font-size: 2em;
                margin-bottom: 20px;
            }

            .controls {
                flex-direction: row;
                align-items: center;
                gap: 10px;
                justify-content: center;
                flex-wrap: wrap;
            }

            .btn {
                width: auto;
                min-width: 100px;
                padding: 12px 15px;
                font-size: 12px;
                flex: 1;
                max-width: 140px;
            }

            #turtleCanvas {
                width: 100%;
                max-width: 800px;
                height: 600px;
                min-height: 300px;
            }
        }

        @media (max-width: 480px) {
            .container {
                margin: 25px 5px 5px 5px;
                padding: 15px;
            }

            h1 {
                font-size: 1.8em;
                margin-bottom: 15px;
                letter-spacing: 1px;
            }

            .btn {
                width: auto;
                min-width: 85px;
                padding: 10px 12px;
                font-size: 11px;
                flex: 1;
                max-width: 110px;
            }

            #turtleCanvas {
                height: auto;
                aspect-ratio: 4/3;
                min-height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåº Florecillas Para Sami</h1>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="startDrawing()">üë®‚Äçüé® Dibujar</button>
            <button class="btn btn-reset" onclick="resetDrawing()">üîÑ Reiniciar</button>
        </div>

        <div class="speed-control">
            <label for="speed">Velocidad:</label>
            <input type="range" id="speed" min="1" max="10" value="5" onchange="updateSpeed()">
            <span class="speed-value" id="speedValue">5</span>
        </div>

        <div class="status" id="status">Listo para dibujarüíï</div>

        <div class="canvas-container">
            <canvas id="turtleCanvas" width="800" height="600"></canvas>
        </div>
    </div>

    <script>
        // Variables globales
        let drawing_active = false;
        let current_flower = 0;
        let drawing_timeout = null;
        let turtle_speed = 5;

        // Canvas setup
        const canvas = document.getElementById('turtleCanvas');
        const ctx = canvas.getContext('2d');
        const canvas_width = 800;
        const canvas_height = 600;

        // Funci√≥n para crear coordenadas de tulip√°n
        function createTulip(centerX, centerY, size = 1, rotation = 0) {
            const tulip = {
                petals: [],
                stem: [],
                leaves: []
            };

            // Crear p√©talos (4 p√©talos principales)
            for (let i = 0; i < 4; i++) {
                const angle = (i * Math.PI / 2) + rotation;
                const petal = [];
                
                // Forma del p√©talo (m√°s realista)
                for (let t = 0; t <= 1; t += 0.05) {
                    const petalX = centerX + Math.cos(angle) * (30 * size) * t - Math.sin(angle) * (15 * size) * Math.sin(t * Math.PI);
                    const petalY = centerY + Math.sin(angle) * (30 * size) * t + Math.cos(angle) * (15 * size) * Math.sin(t * Math.PI);
                    petal.push([petalX, petalY]);
                }
                tulip.petals.push(petal);
            }

            // Crear tallo
            const stemHeight = 100 * size;
            for (let i = 0; i <= stemHeight; i += 5) {
                tulip.stem.push([centerX, centerY + 20 * size + i]);
            }

            // Crear hojas
            const leaf1 = [];
            const leaf2 = [];
            for (let t = 0; t <= 1; t += 0.1) {
                const leafY = centerY + (40 + 40 * t) * size;
                leaf1.push([centerX - 20 * size + 15 * size * Math.sin(t * Math.PI), leafY]);
                leaf2.push([centerX + 20 * size - 15 * size * Math.sin(t * Math.PI), leafY]);
            }
            tulip.leaves = [leaf1, leaf2];

            return tulip;
        }

        // Generar posiciones para m√∫ltiples tulipanes
        function generateTulipPositions() {
            const tulips = [];
            const rows = 4;
            const cols = 6;
            
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const x = (col + 1) * (canvas_width / (cols + 1)) + (Math.random() - 0.5) * 40;
                    const y = (row + 1) * (canvas_height / (rows + 1)) + (Math.random() - 0.5) * 30;
                    const size = 0.6 + Math.random() * 0.4;
                    const rotation = Math.random() * Math.PI * 2;
                    
                    tulips.push(createTulip(x, y, size, rotation));
                }
            }
            return tulips;
        }

        let tulipData = [];

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas_width, canvas_height);
            
            // Fondo con gradiente suave
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas_height);
            gradient.addColorStop(0, '#e8f5e8');
            gradient.addColorStop(1, '#f0fff0');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas_width, canvas_height);
        }

        function drawShape(points, color, fill = true) {
            if (points.length === 0) return;
            
            ctx.beginPath();
            ctx.moveTo(points[0][0], points[0][1]);
            
            for (let i = 1; i < points.length; i++) {
                ctx.lineTo(points[i][0], points[i][1]);
            }
            
            if (fill) {
                ctx.closePath();
                ctx.fillStyle = color;
                ctx.fill();
            }
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        function drawTulip(tulip, flowerIndex) {
            // Colores amarillos variados para los p√©talos
            const yellowColors = [
                '#FFD700', // Oro
                '#FFED4E', // Amarillo brillante
                '#FFF44F', // Amarillo lim√≥n
                '#FFEB3B'  // Amarillo material
            ];
            
            // Dibujar tallo (verde)
            drawShape(tulip.stem, '#2E7D32', false);
            
            // Dibujar hojas (verde)
            tulip.leaves.forEach(leaf => {
                drawShape(leaf, '#4CAF50', true);
            });
            
            // Dibujar p√©talos (amarillos)
            tulip.petals.forEach((petal, index) => {
                const color = yellowColors[index % yellowColors.length];
                drawShape(petal, color, true);
            });
        }

        async function drawNext() {
            if (!drawing_active || current_flower >= tulipData.length) {
                if (current_flower >= tulipData.length) {
                    drawing_active = false;
                    const status_element = document.getElementById('status');
                    status_element.textContent = "¬°Jard√≠n de flores amarillas completado! üíõ";
                    status_element.className = 'status completed';
                }
                return;
            }
            
            const progress_percentage = Math.round(((current_flower + 1) / tulipData.length) * 100);
            document.getElementById('status').textContent = `Plantando Florcitas... ${progress_percentage}%`;
            
            // Dibujar el tulip√°n actual
            drawTulip(tulipData[current_flower], current_flower);
            current_flower++;
            
            // Siguiente tulip√°n con velocidad ajustable
            if (drawing_active) {
                const delay = Math.max(50, 800 - turtle_speed * 80);
                drawing_timeout = setTimeout(drawNext, delay);
            }
        }

        function startDrawing() {
            if (drawing_timeout) {
                clearTimeout(drawing_timeout);
            }
            
            drawing_active = true;
            current_flower = 0;
            tulipData = generateTulipPositions();
            clearCanvas();
            
            document.getElementById('status').textContent = `Preparando jard√≠n con ${tulipData.length} tulipanes amarillos...`;
            drawNext();
        }

        function resetDrawing() {
            drawing_active = false;
            if (drawing_timeout) {
                clearTimeout(drawing_timeout);
            }
            current_flower = 0;
            clearCanvas();
            document.getElementById('status').textContent = "Listo para plantar flores amarillas üíï";
        }

        function updateSpeed() {
            const speed_element = document.getElementById('speed');
            const speed_value_element = document.getElementById('speedValue');
            turtle_speed = parseInt(speed_element.value);
            speed_value_element.textContent = turtle_speed.toString();
        }

        // Inicializaci√≥n
        clearCanvas();
        document.getElementById('status').textContent = "Listo para plantar flores amarillas üíõ";
    </script>
    
    <div style="text-align: center; margin-top: 30px; padding: 20px; color: rgba(255, 255, 255, 0.7); font-family: 'Outfit', sans-serif; font-size: 14px;">
        Flores amarillas generadas proceduralmente üíõ | by Touch-Mew </a>
    </div>
</body>
</html>
